webpackJsonp([0],{0:function(module,exports,__webpack_require__){try{(function(){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var a=e,r=t,o=i;n=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,r);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(a);if(null===u)return;e=u,t=r,i=o,n=!0,s=u=void 0}},_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(31),_reactDom2=_interopRequireDefault(_reactDom),_jquery=__webpack_require__(170),_jquery2=_interopRequireDefault(_jquery),_iscroll=__webpack_require__(171),_iscroll2=_interopRequireDefault(_iscroll);__webpack_require__(172);var _reactFastclick=__webpack_require__(176),_reactFastclick2=_interopRequireDefault(_reactFastclick),_componentsPublicObserable=__webpack_require__(177),_componentsPublicObserable2=_interopRequireDefault(_componentsPublicObserable),_indexIndexJsx=__webpack_require__(178),_indexIndexJsx2=_interopRequireDefault(_indexIndexJsx),_chooseIndexJsx=__webpack_require__(182),_chooseIndexJsx2=_interopRequireDefault(_chooseIndexJsx),_chooseborderIndexJsx=__webpack_require__(188),_chooseborderIndexJsx2=_interopRequireDefault(_chooseborderIndexJsx),_inputIndexJsx=__webpack_require__(191),_inputIndexJsx2=_interopRequireDefault(_inputIndexJsx),_resultIndexJsx=__webpack_require__(194),_resultIndexJsx2=_interopRequireDefault(_resultIndexJsx);(0,_reactFastclick2.default)();var obserable=new _componentsPublicObserable2.default,worksid="1606979000",data={wxappid:"wxec2401ee9a70f3d9",wxappsecret:"fc2c8e7c243da9e8898516fa5da8cbbb"},App=function(_Component){function App(e){_classCallCheck(this,App),_get(Object.getPrototypeOf(App.prototype),"constructor",this).call(this,e),this.state={nickname:""},this.viewW=document.documentElement.clientWidth,this.viewH=document.documentElement.clientHeight,window.s=this,this.zmitiMap=[{name:"北京市",log:"116.46",lat:"39.92"},{name:"上海市",log:"121.48",lat:"31.22"},{name:"天津市",log:"117.2",lat:"39.13"},{name:"重庆市",log:"106.54",lat:"29.59"},{name:"石家庄",log:"114.48",lat:"38.03"},{name:"太原市",log:"112.53",lat:"37.87"},{name:"沈阳市",log:"123.38",lat:"41.8"},{name:"长春市",log:"125.35",lat:"43.88"},{name:"哈尔滨市",log:"126.63",lat:"45.75"},{name:"杭州市",log:"120.19",lat:"30.26"},{name:"福州市",log:"119.3",lat:"26.08"},{name:"济南市",log:"106.54",lat:"29.59"},{name:"郑州市",log:"113.65",lat:"34.76"},{name:"武汉市",log:"114.31",lat:"30.52"},{name:"长沙市",log:"113",lat:"28.21"},{name:"广州市",log:"113.23",lat:"23.16"},{name:"海口市",log:"110.35",lat:"20.02"},{name:"成都市",log:"104.06",lat:"30.67"},{name:"贵阳市",log:"106.71",lat:"26.57"},{name:"昆明市",log:"102.73",lat:"25.04"},{name:"南昌市",log:"115.89",lat:"28.68"},{name:"西安市",log:"108.95",lat:"34.27"},{name:"西宁市",log:"101.74",lat:"36.56"},{name:"兰州市",log:"103.73",lat:"36.03"},{name:"南宁市",log:"106.54",lat:"29.59"},{name:"乌鲁木齐市",log:"87.68",lat:"43.77"},{name:"呼和浩特市",log:"111.65",lat:"40.82"},{name:"拉萨市",log:"91.11",lat:"29.97"},{name:"银川市",log:"106.27",lat:"38.47"},{name:"台北市",log:"121.5",lat:"25.14"},{name:"香港",log:"114.17",lat:"22.27"},{name:"澳门",log:"113.33",lat:"22.13"},{name:"合肥市",log:"117.27",lat:"31.86"},{name:"南京市",log:"118.78",lat:"32.04"}]}return _inherits(App,_Component),_createClass(App,[{key:"render",value:function(){var e={obserable:obserable,wxConfig:this.wxConfig.bind(this),changeURLPar:this.changeURLPar.bind(this),nickname:this.state.nickname},t=this.state.border&&this.state.file&&this.state.wish,i={border:this.state.border,file:this.state.file,wish:this.state.wish,transX:this.state.transX,transY:this.state.transY};return _react2.default.createElement("div",{className:"zmiti-main-ui"},!t&&_react2.default.createElement(_indexIndexJsx2.default,e),!t&&_react2.default.createElement(_chooseIndexJsx2.default,e),!t&&_react2.default.createElement(_chooseborderIndexJsx2.default,e),!t&&_react2.default.createElement(_inputIndexJsx2.default,e),!t&&_react2.default.createElement(_resultIndexJsx2.default,e),t&&_react2.default.createElement(_resultIndexJsx2.default,_extends({},i,e)))}},{key:"wxConfig",value:function(e,t,i,n){var a="wxfacf4a639d9e3bcc",r=n||location.href.split("#")[0],o=encodeURIComponent(r);_jquery2.default.ajax({type:"get",url:"http://api.zmiti.com/weixin/jssdk.php?type=signature&durl="+o,dataType:"jsonp",jsonp:"callback",jsonpCallback:"jsonFlickrFeed",error:function(){},success:function(n){wx.config({debug:!1,appId:a,timestamp:"1488558145",nonceStr:"Wm3WZYTPz0wzccnW",signature:n.signature,jsApiList:["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","hideMenuItems","showMenuItems","hideAllNonBaseMenuItem","showAllNonBaseMenuItem"]}),wx.ready(function(){wx.onMenuShareTimeline({title:e,link:r,imgUrl:i,desc:t,success:function(){},cancel:function(){}}),wx.onMenuShareAppMessage({title:e,link:r,imgUrl:i,type:"link",dataUrl:"",desc:t,success:function(){},cancel:function(){}}),wx.onMenuShareQQ({title:e,link:r,imgUrl:i,desc:t,success:function(){},cancel:function(){}})})}})}},{key:"log",value:function(e){_jquery2.default.ajax({url:"http://api.zmiti.com/v2/msg/send_msg",data:{type:e.key||"log",content:JSON.stringify(e),to:""}})}},{key:"getQueryString",value:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),i=window.location.search.substr(1).match(t);return null!=i?i[2]:null}},{key:"getOauthurl",value:function(){var e=this;_jquery2.default.ajax({type:"post",url:"http://api.zmiti.com/v2/weixin/getwxuserinfo/",data:{code:e.getQueryString("code"),wxappid:data.wxappid,wxappsecret:data.wxappsecret},error:function(e){},success:function(t){if(0===t.getret){e.openid=t.userinfo.openid,e.nickname=t.userinfo.nickname,e.headimgurl=t.userinfo.headimgurl,e.state.nickname=e.nickname,window.nickname=e.nickname,e.forceUpdate(),_jquery2.default.ajax({url:"http://api.zmiti.com/v2/works/update_pvnum/",data:{worksid:worksid},success:function(e){0===e.getret}});var i=Math.random()*e.zmitiMap.length|0;_jquery2.default.ajax({url:"http://api.zmiti.com/v2/weixin/save_userview/",type:"post",data:{worksid:worksid,wxopenid:e.openid,wxname:e.nickname,usercity:e.zmitiMap[i].name,longitude:e.zmitiMap[i].log,latitude:e.zmitiMap[i].lat}}).done(function(e){0===e.getret},function(){});var n={type:"map",address:e.zmitiMap[i].name,pos:[e.zmitiMap[i].log,e.zmitiMap[i].lat],nickname:e.nickname,headimgurl:e.headimgurl};_jquery2.default.ajax({url:"http://api.zmiti.com/v2/msg/send_msg/",type:"post",data:{type:worksid,content:JSON.stringify(n),to:n.to||""},success:function(e){}})}else if(e.isWeiXin()){var a=e.getQueryString("file"),r=e.getQueryString("border"),o=e.getQueryString("wish"),s=e.getQueryString("transX"),l=e.getQueryString("transY"),u=window.location.href.split("?")[0];u.indexOf("?")>-1?"&":"?";a&&(u=e.changeURLPar(u,"file",a),u=e.changeURLPar(u,"border",r),u=e.changeURLPar(u,"wish",o),u=e.changeURLPar(u,"transX",s),u=e.changeURLPar(u,"transY",l)),_jquery2.default.ajax({url:"http://api.zmiti.com/v2/weixin/getoauthurl/",type:"post",data:{redirect_uri:u,scope:"snsapi_userinfo",worksid:worksid,state:(new Date).getTime()+""},error:function(){},success:function(e){0===e.getret&&(window.location.href=e.url)}})}}})}},{key:"changeURLPar",value:function changeURLPar(url,arg,val){var pattern=arg+"=([^&]*)",replaceText=arg+"="+val;return url.match(pattern)?url.replace(eval("/("+arg+"=)([^&]*)/gi"),replaceText):url.match("[?]")?url+"&"+replaceText:url+"?"+replaceText}},{key:"componentDidMount",value:function(){var e=this,t=e.getQueryString("file"),i=e.getQueryString("border"),n=e.getQueryString("wish"),a=e.getQueryString("transX"),r=e.getQueryString("transY");t&&i&&n&&this.setState({file:t,border:i,wish:n,transX:a,transY:r}),this.wxConfig(document.title,window.share.desc,"http://h5.zmiti.com/public/teacherday/assets/images/300.jpg"),this.getOauthurl()}},{key:"isWeiXin",value:function(){var e=window.navigator.userAgent.toLowerCase();return"micromessenger"==e.match(/MicroMessenger/i)}}]),App}(_react.Component);_reactDom2.default.render(_react2.default.createElement(App,null),document.getElementById("fly-main-ui"))}).call(this)}finally{}},172:function(e,exports,t){var i=t(173);"string"==typeof i&&(i=[[e.id,i,""]]);t(175)(i,{});i.locals&&(e.exports=i.locals)},173:function(e,exports,t){exports=e.exports=t(174)(),exports.push([e.id,".lt-full{width:100%;height:100%;position:absolute;left:0;top:0}.zmiti-text-overflow{overflow:hidden;white-space:nowrap;word-break:break-all;text-overflow:ellipsis;-webkit-text-overflow:ellipsis}body,canvas,dd,div,dl,dt,figure,footer,h1,h2,h3,h4,header,html,li,ol,p,section,ul,video{padding:0;margin:0}a{text-decoration:none}li{list-style:none}body,html{height:100%;-webkit-tap-highlight-color:transparent}body{font-family:Helvetica Neue,Helvetica,Microsoft YaHei,\\\\5FAE\\8F6F\\96C5\\9ED1,arial,sans-serif;overflow-x:hidden;font-size:14px}img{border:none;vertical-align:middle;width:100%;height:auto}.clearfix{clear:both}input,textarea{outline:none}#fly-main-ui{height:100%}.zmiti-main-ui{width:100%;height:100%;position:absolute}",""])},174:function(e,exports){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var i=this[t];i[2]?e.push("@media "+i[2]+"{"+i[1]+"}"):e.push(i[1])}return e.join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},a=0;a<this.length;a++){var r=this[a][0];"number"==typeof r&&(n[r]=!0)}for(a=0;a<t.length;a++){var o=t[a];"number"==typeof o[0]&&n[o[0]]||(i&&!o[2]?o[2]=i:i&&(o[2]="("+o[2]+") and ("+i+")"),e.push(o))}},e}},175:function(e,exports,t){function i(e,t){for(var i=0;i<e.length;i++){var n=e[i],a=f[n.id];if(a){a.refs++;for(var r=0;r<a.parts.length;r++)a.parts[r](n.parts[r]);for(;r<n.parts.length;r++)a.parts.push(l(n.parts[r],t))}else{for(var o=[],r=0;r<n.parts.length;r++)o.push(l(n.parts[r],t));f[n.id]={id:n.id,refs:1,parts:o}}}}function n(e){for(var t=[],i={},n=0;n<e.length;n++){var a=e[n],r=a[0],o=a[1],s=a[2],l=a[3],u={css:o,media:s,sourceMap:l};i[r]?i[r].parts.push(u):t.push(i[r]={id:r,parts:[u]})}return t}function a(e,t){var i=h(),n=v[v.length-1];if("top"===e.insertAt)n?n.nextSibling?i.insertBefore(t,n.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),v.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");i.appendChild(t)}}function r(e){e.parentNode.removeChild(e);var t=v.indexOf(e);t>=0&&v.splice(t,1)}function o(e){var t=document.createElement("style");return t.type="text/css",a(e,t),t}function s(e){var t=document.createElement("link");return t.rel="stylesheet",a(e,t),t}function l(e,t){var i,n,a;if(t.singleton){var l=b++;i=g||(g=o(t)),n=u.bind(null,i,l,!1),a=u.bind(null,i,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=s(t),n=m.bind(null,i),a=function(){r(i),i.href&&URL.revokeObjectURL(i.href)}):(i=o(t),n=c.bind(null,i),a=function(){r(i)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else a()}}function u(e,t,i,n){var a=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=w(t,a);else{var r=document.createTextNode(a),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(r,o[t]):e.appendChild(r)}}function c(e,t){var i=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}function m(e,t){var i=t.css,n=t.sourceMap;n&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var a=new Blob([i],{type:"text/css"}),r=e.href;e.href=URL.createObjectURL(a),r&&URL.revokeObjectURL(r)}var f={},p=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},d=p(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),h=p(function(){return document.head||document.getElementsByTagName("head")[0]}),g=null,b=0,v=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=d()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var a=n(e);return i(a,t),function(e){for(var r=[],o=0;o<a.length;o++){var s=a[o],l=f[s.id];l.refs--,r.push(l)}if(e){var u=n(e);i(u,t)}for(var o=0;o<r.length;o++){var l=r[o];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete f[l.id]}}}};var w=function(){var e=[];return function(t,i){return e[t]=i,e.filter(Boolean).join("\n")}}()},176:function(e,exports,t){"use strict";!function(){var i=function(e){return function(){var t=e.createElement,i=8,n=1e3,a=["clientX","clientY","pageX","pageY","screenX","screenY","radiusX","radiusY"],r={downPos:{},lastPos:{}},o=function(e){if(!e)return!1;var t=e.getAttribute("disabled");return t!==!1&&null!==t},s=function(e,t){var i=t||e.currentTarget;i&&!o(i)&&i.focus()},l={input:function(e){s(e),e.stopPropagation()},textarea:function(e){s(e),e.stopPropagation()},select:function(e){s(e),e.stopPropagation()},label:function(e){var t,i=e.currentTarget.getAttribute("for");t=i?document.getElementById(i):e.currentTarget.querySelectorAll("input, textarea, select")[0],t&&s(e,t)}},u=function(e){"function"==typeof e.persist&&e.persist(),e.fastclick=!0,e.type="click",e.button=0},c=function(e,t){if("function"==typeof t.persist&&t.persist(),e)for(var i=0;i<a.length;i+=1){var n=a[i];t[n]=e[n]}},m=function(){return!r.touched&&(!r.lastTouchDate||(new Date).getTime()>r.lastTouchDate+n)},f=function(e){r.invalid=e.touches&&e.touches.length>1||r.invalid},p=function(e,t){var i=!m();i&&t.target!==r.target&&t.preventDefault(),"function"!=typeof e||i||e(t),"click"===t.type&&(r.invalid=!1,r.touched=!1,r.moved=!1)},d=function(e,t){r.invalid=!1,r.moved=!1,r.touched=!0,r.target=t.target,r.lastTouchDate=(new Date).getTime(),c(t.touches[0],r.downPos),c(t.touches[0],r.lastPos),f(t),"function"==typeof e&&e(t)},h=function(e,t){r.touched=!0,r.lastTouchDate=(new Date).getTime(),c(t.touches[0],r.lastPos),f(t),(Math.abs(r.downPos.clientX-r.lastPos.clientX)>i||Math.abs(r.downPos.clientY-r.lastPos.clientY)>i)&&(r.moved=!0),"function"==typeof e&&e(t)},g=function(e,t,i,n){if(r.touched=!0,r.lastTouchDate=(new Date).getTime(),f(n),"function"==typeof e&&e(n),!r.invalid&&!r.moved){var a=n.currentTarget.getBoundingClientRect();r.lastPos.clientX-(r.lastPos.radiusX||0)<=a.right&&r.lastPos.clientX+(r.lastPos.radiusX||0)>=a.left&&r.lastPos.clientY-(r.lastPos.radiusY||0)<=a.bottom&&r.lastPos.clientY+(r.lastPos.radiusY||0)>=a.top&&(o(n.currentTarget)||("function"==typeof t&&(c(r.lastPos,n),u(n),t(n)),!n.defaultPrevented&&l[i]&&l[i](n)))}},b=function(e,t){var i={};for(var n in t)i[n]=t[n];return i.onClick=p.bind(null,t.onClick),i.onMouseDown=p.bind(null,t.onMouseDown),i.onMouseMove=p.bind(null,t.onMouseMove),i.onMouseUp=p.bind(null,t.onMouseUp),i.onTouchStart=d.bind(null,t.onTouchStart),i.onTouchMove=h.bind(null,t.onTouchMove),i.onTouchEnd=g.bind(null,t.onTouchEnd,t.onClick,e),"function"==typeof Object.freeze&&Object.freeze(i),i};if(e.createElement=function(){var e=Array.prototype.slice.call(arguments),i=e[0],n=e[1];return i&&"string"==typeof i&&(n&&"function"==typeof n.onClick||l[i])&&(e[1]=b(i,n||{})),t.apply(null,e)},"object"==typeof e.DOM)for(var v in e.DOM)e.DOM[v]=e.createElement.bind(null,v)}},n=t(1);e.exports=i(n)}()},177:function(e,exports,t){try{(function(){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var i=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),n=function(){function e(){t(this,e),this.handlers={}}return i(e,[{key:"on",value:function(e,t){this.handlers[e]=this.handlers[e]||[],this.handlers[e].push(t)}},{key:"trigger",value:function(e){if(e.target||(e.target=this),this.handlers[e.type]instanceof Array)for(var t=this.handlers[e.type],i=0,n=t.length;i<n;i++)return t[i](e.data)}}]),e}();exports.default=n,e.exports=exports.default}).call(this)}finally{}},178:function(e,exports,t){try{(function(){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(e,t,i){for(var n=!0;n;){var a=e,r=t,o=i;n=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,r);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(a);if(null===u)return;e=u,t=r,i=o,n=!0,s=u=void 0}},s=t(1),l=i(s),u=t(31),c=(i(u),t(170)),m=(i(c),t(171));i(m);t(179);var f=t(181),p=function(e){function t(e){n(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={className:"active"},this.viewW=document.documentElement.clientWidth,this.viewH=document.documentElement.clientHeight,window.s=this}return a(t,e),r(t,[{key:"render",value:function(){var e={background:"url(./assets/images/bg1.jpg) no-repeat center center ",backgroundSize:"cover"};return l.default.createElement("div",{className:"zmiti-index-main-ui "+this.state.className,style:e},l.default.createElement("img",{src:"./assets/images/logo.png",className:"zmiti-logo"}),l.default.createElement("div",{className:"zmiti-img-C"},l.default.createElement("img",{src:"./assets/images/img1.png",className:"zmiti-img1"}),l.default.createElement("img",{src:"./assets/images/img2.png",className:"zmiti-img2"}),l.default.createElement("img",{src:"./assets/images/img3.png",className:"zmiti-img3"}),l.default.createElement("img",{src:"./assets/images/img4.png",className:"zmiti-img4"}),l.default.createElement("img",{src:"./assets/images/img5.png",className:"zmiti-img5"})),l.default.createElement("img",{src:"./assets/images/flower.png",className:"zmiti-flower"}),l.default.createElement("img",{src:"./assets/images/text.png",className:"zmiti-text"}),l.default.createElement("img",{onClick:this.next.bind(this),src:"./assets/images/begindo.png",className:"zmiti-begindo"}))}},{key:"next",value:function(){var e=this.props.obserable;e.trigger({type:"toggleIndex",data:"left"}),e.trigger({type:"toggleChoose",data:"active"})}},{key:"showToast",value:function(e){var t=this;this.setState({toast:e}),setTimeout(function(){t.setState({toast:""})},2e3)}},{key:"componentDidMount",value:function(){var e=this,t=this.props.obserable;t.on("toggleIndex",function(t){e.setState({className:t})})}}]),t}(s.Component);exports.default=(0,f.PubCom)(p),e.exports=exports.default}).call(this)}finally{}},179:function(e,exports,t){var i=t(180);"string"==typeof i&&(i=[[e.id,i,""]]);t(175)(i,{});i.locals&&(e.exports=i.locals)},180:function(e,exports,t){exports=e.exports=t(174)(),exports.push([e.id,".lt-full{width:100%;height:100%;position:absolute;left:0;top:0}.zmiti-text-overflow{overflow:hidden;white-space:nowrap;word-break:break-all;text-overflow:ellipsis;-webkit-text-overflow:ellipsis}.zmiti-index-main-ui{width:100%;height:100%;transition:.3s;left:0;top:0}.zmiti-index-main-ui.active{-webkit-transform:translate(0) scale(1);transform:translate(0) scale(1)}.zmiti-index-main-ui.left{-webkit-transform:translate(-100%) scale(.8);transform:translate(-100%) scale(.8)}.zmiti-index-main-ui .zmiti-logo{width:3rem;position:absolute;right:.5rem;top:1.6rem}.zmiti-index-main-ui .zmiti-img-C{position:absolute;width:8rem;left:-1.3rem;top:.5rem;height:10rem}.zmiti-index-main-ui .zmiti-img1,.zmiti-index-main-ui .zmiti-img-C{opacity:0;-webkit-animation:opacity 2s .8s linear forwards;animation:opacity 2s .8s linear forwards}.zmiti-index-main-ui .zmiti-img1{width:7rem}.zmiti-index-main-ui .zmiti-img2{position:absolute;bottom:-1.5rem;left:1rem;width:5rem;z-index:10;opacity:0;-webkit-animation:opacity 2s 3.2s linear forwards;animation:opacity 2s 3.2s linear forwards}.zmiti-index-main-ui .zmiti-img3{position:absolute;bottom:-2.2rem;right:-2.8rem;width:5rem;opacity:0;z-index:12;-webkit-animation:opacity 2s 4s linear forwards;animation:opacity 2s 4s linear forwards}.zmiti-index-main-ui .zmiti-img4{position:absolute;top:5rem;left:1rem;width:5rem;opacity:0;-webkit-animation:opacity 2s 1.6s linear forwards;animation:opacity 2s 1.6s linear forwards}.zmiti-index-main-ui .zmiti-img5{position:absolute;top:4rem;left:4rem;width:5rem;opacity:0;-webkit-animation:opacity 2s 2.4s linear forwards;animation:opacity 2s 2.4s linear forwards}.zmiti-index-main-ui .zmiti-flower{width:3.5rem;position:absolute;right:0;top:3rem;opacity:0;-webkit-animation:opacity 2s 3.2s linear forwards;animation:opacity 2s 3.2s linear forwards}.zmiti-index-main-ui .zmiti-text{position:absolute;width:5rem;bottom:1.2rem;left:1rem;opacity:0;-webkit-animation:opacity 2s 4s linear forwards;animation:opacity 2s 4s linear forwards}.zmiti-index-main-ui .zmiti-begindo{position:absolute;width:3rem;bottom:.5rem;left:5.5rem;opacity:0;-webkit-animation:opacity 2s 4.8s linear forwards;animation:opacity 2s 4.8s linear forwards}@-webkit-keyframes opacity{to{opacity:1}}@-webkit-keyframes rotate1{0%{-webkit-transform:translate3d(0,-440px,0);transform:translate3d(0,-440px,0)}to{opacity:1;-webkit-transform:rotate(0) translateZ(0);transform:rotate(0) translateZ(0)}}@media (max-height:612px) and (min-width:412px){.zmiti-text{bottom:.4rem!important}.zmiti-begindo{bottom:.1rem!important;left:6rem!important}}",""])},181:function(e,exports,t){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(e,t,i){for(var n=!0;n;){var a=e,r=t,o=i;n=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,r);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(a);if(null===u)return;e=u,t=r,i=o,n=!0,s=u=void 0}},s=t(1),l=e(s),u=t(170),c=e(u),m=function(e){return function(t){function s(e){i(this,s),o(Object.getPrototypeOf(s.prototype),"constructor",this).call(this,e),this.state={}}return n(s,t),r(s,[{key:"componentWillMount",value:function(){}},{key:"log",value:function(e){c.default.ajax({url:window.baseUrl+"msg/send_msg",data:{type:e.key||"log",content:JSON.stringify(e)}})}},{key:"render",value:function(){var t={log:this.log};return l.default.createElement(e,a({},t,this.props,this.state))}}]),s}(s.Component)};exports.PubCom=m}).call(this)}finally{}},182:function(e,exports,t){try{(function(){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(e,t,i){for(var n=!0;n;){var a=e,r=t,o=i;n=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,r);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(a);if(null===u)return;e=u,t=r,i=o,n=!0,s=u=void 0}},s=t(1),l=i(s),u=t(31),c=(i(u),t(170)),m=i(c);t(183);var f=t(181),p=t(185),d=i(p),h=function(e){function t(e){n(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={fileVal:"",className:"right",border:"",transX:0,transY:0,tip:"点击上传相片"},this.viewW=document.documentElement.clientWidth,this.viewH=document.documentElement.clientHeight}return a(t,e),r(t,[{key:"render",value:function(){var e={background:"url(./assets/images/bg1.jpg) no-repeat center center ",backgroundSize:"cover"},t=this.viewW/10,i={border:this.state.fileVal?"1px dashed #000":"none",boxSizing:"border-box"};return this.state.fileVal&&(i.background="url("+this.state.fileVal+") no-repeat",i.backgroundSize="cover",i.backgroundPosition=this.state.transX+"px "+this.state.transY+"px"),l.default.createElement("div",{className:"zmiti-choose-main-ui "+this.state.className,style:e},l.default.createElement("div",{className:"zmiti-choose-main-content"},l.default.createElement("div",{className:"zmiti-upload",ref:"img"},this.state.fileVal&&l.default.createElement("div",{style:i}),!this.state.fileVal&&l.default.createElement("img",{src:"./assets/images/upload.png"}),this.state.fileVal&&l.default.createElement("img",{hidden:!0,style:{zIndex:1002,position:"relative",WebkitTransform:"translate("+this.state.transX+"px,"+this.state.transY+"px)"},src:this.state.fileVal}),l.default.createElement("canvas",{ref:"canvas",width:6*t,height:6*t}),l.default.createElement("input",{ref:"upload-file",onChange:this.chooseImg.bind(this),type:"file"}),l.default.createElement("span",{className:"zmiti-upload-loading"},this.state.tip)),l.default.createElement("div",{className:"zmiti-beign-upload"},"上传照片"),l.default.createElement("div",{className:"zmiti-btn-groups",style:{width:"4rem"}},l.default.createElement("aside",{onClick:this.rechoose.bind(this)},l.default.createElement("img",{src:"./assets/images/rechoose.png"})),l.default.createElement("aside",{onClick:this.next.bind(this)},l.default.createElement("img",{src:"./assets/images/next.png"})))),this.state.toast&&l.default.createElement(d.default,{toast:this.state.toast}))}},{key:"next",value:function(){if(!this.state.fileVal)return void this.showToast("请上传一张图片");var e=this.props.obserable;e.trigger({type:"toggleChooseBorder",data:"active"}),e.trigger({type:"toggleChoose",data:"left"})}},{key:"rechoose",value:function(){var e=this;this.setState({fileVal:"",tip:"点击上传相片"},function(){e.drawImage()})}},{key:"chooseImg",value:function(e){var t=this;if(e.target.value){var i=new FormData;this.setState({showUploadLoading:!0,tip:"上传中,请稍候..."}),i.append("setupfile",this.refs["upload-file"].files[0]),i.append("uploadtype",1),m.default.ajax({type:"POST",contentType:!1,processData:!1,url:"http://api.zmiti.com/v2/share/upload_file/",data:i}).done(function(e){if(0===e.getret){var i=new Image;i.onload=function(){t.props.obserable;t.setState({fileVal:e.getfileurl[0].datainfourl,tip:""},function(){t.drawImage()})},i.src=e.getfileurl[0].datainfourl}})}}},{key:"showToast",value:function(e){var t=this;this.setState({toast:e}),setTimeout(function(){t.setState({toast:""})},2e3)}},{key:"drawImage",value:function(){}},{key:"componentDidMount",value:function(){var e=this,t=this.props.obserable;t.on("toggleChoose",function(t){e.setState({className:t})}),t.on("getFile",function(){return e.state.fileVal}),t.on("getPos",function(){return{transX:e.state.transX,transY:e.state.transY}}),(0,m.default)(this.refs.img).on("touchstart",function(t){var t=t.originalEvent.changedTouches[0],i=t.pageX-e.state.transX,n=t.pageY-e.state.transY;(0,m.default)(document).on("touchmove",function(t){var t=t.originalEvent.changedTouches[0];console.log(t.pageX),e.setState({transX:t.pageX-i,transY:t.pageY-n})}).on("touchend",function(){(0,m.default)(document).off("touchend touchmvee")})})}}]),t}(s.Component);exports.default=(0,f.PubCom)(h),e.exports=exports.default}).call(this)}finally{}},183:function(e,exports,t){var i=t(184);"string"==typeof i&&(i=[[e.id,i,""]]);t(175)(i,{});i.locals&&(e.exports=i.locals)},184:function(e,exports,t){exports=e.exports=t(174)(),exports.push([e.id,".lt-full{width:100%;height:100%;position:absolute;left:0;top:0}.zmiti-text-overflow{overflow:hidden;white-space:nowrap;word-break:break-all;text-overflow:ellipsis;-webkit-text-overflow:ellipsis}.zmiti-choose-main-ui{position:absolute;transition:.3s;left:0;top:0;width:100%;height:100%;display:-webkit-box;-webkit-box-align:center;-webkit-box-pack:center;-webkit-box-orient:vertical}.zmiti-choose-main-ui.active{-webkit-transform:translate(0) scale(1);transform:translate(0) scale(1);z-index:100}.zmiti-choose-main-ui.left{-webkit-transform:translate(-100%) scale(.8);transform:translate(-100%) scale(.8)}.zmiti-choose-main-ui.right{-webkit-transform:translate(100%) scale(.8);transform:translate(100%) scale(.8)}.zmiti-choose-main-ui .zmiti-choose-main-content{width:9rem}.zmiti-choose-main-ui .zmiti-choose-main-content .zmiti-upload{width:7rem;height:7rem;overflow:hidden;text-align:center;margin:0 auto;position:relative}.zmiti-choose-main-ui .zmiti-choose-main-content .zmiti-upload>div{position:absolute;width:100%;height:100%;left:0;top:0;z-index:10000}.zmiti-choose-main-ui .zmiti-choose-main-content .zmiti-upload canvas{position:absolute;z-index:10;left:0;top:0}.zmiti-choose-main-ui .zmiti-choose-main-content .zmiti-upload .zmiti-border-img{position:absolute;left:0;top:0;z-index:100}.zmiti-choose-main-ui .zmiti-choose-main-content .zmiti-upload input{position:absolute;left:0;top:0;height:100%;width:100%;opacity:0;z-index:101}.zmiti-choose-main-ui .zmiti-choose-main-content .zmiti-upload .zmiti-upload-loading{position:absolute;z-index:10;left:50%;top:50%;width:100%;font-size:.5rem;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.zmiti-choose-main-ui .zmiti-choose-main-content .zmiti-beign-upload{background:#fff;width:2.4rem;text-align:center;height:1rem;line-height:1rem;border-radius:.2rem;margin:.5rem auto;opacity:0}.zmiti-choose-main-ui .zmiti-choose-main-content .zmiti-btn-groups{display:-webkit-box;-webkit-box-align:center;-webkit-box-pack:center;-webkit-box-orient:horizontal;width:8rem;margin:0 auto}.zmiti-choose-main-ui .zmiti-choose-main-content .zmiti-btn-groups>aside{-webkit-box-flex:1;margin:0 10px}",""]);
},185:function(e,exports,t){try{(function(){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(e,t,i){for(var n=!0;n;){var a=e,r=t,o=i;n=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,r);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(a);if(null===u)return;e=u,t=r,i=o,n=!0,s=u=void 0}},s=t(1),l=i(s),u=t(181);t(186);var c=t(170),m=(i(c),function(e){function t(e){n(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={},this.viewW=document.documentElement.clientWidth,this.viewH=document.documentElement.clientHeight}return a(t,e),r(t,[{key:"render",value:function(){return l.default.createElement("div",{className:"zmiti-toast-main-ui"},this.props.toast||"")}},{key:"componentDidMount",value:function(){}}]),t}(s.Component));exports.default=(0,u.PubCom)(m),e.exports=exports.default}).call(this)}finally{}},186:function(e,exports,t){var i=t(187);"string"==typeof i&&(i=[[e.id,i,""]]);t(175)(i,{});i.locals&&(e.exports=i.locals)},187:function(e,exports,t){exports=e.exports=t(174)(),exports.push([e.id,".lt-full{width:100%;height:100%;position:absolute;left:0;top:0}.zmiti-text-overflow{overflow:hidden;white-space:nowrap;word-break:break-all;text-overflow:ellipsis;-webkit-text-overflow:ellipsis}.zmiti-toast-main-ui{background:rgba(0,0,0,.5);position:fixed;top:50%;left:50%;-webkit-transform:translate3d(-50%,0,0);transform:translate3d(-50%,0,0);padding:10px;text-align:center;color:#fff;width:50%;border-radius:10px;z-index:99999}",""])},188:function(e,exports,t){try{(function(){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(e,t,i){for(var n=!0;n;){var a=e,r=t,o=i;n=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,r);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(a);if(null===u)return;e=u,t=r,i=o,n=!0,s=u=void 0}},s=t(1),l=i(s),u=t(31),c=(i(u),t(170));i(c);t(189);var m=t(181),f=function(e){function t(e){n(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={className:"right",borderList:[{src:"./assets/images/border1.png"},{src:"./assets/images/border2.png"},{src:"./assets/images/border3.png"},{src:"./assets/images/border4.png"}],file:"",currentBorderIndex:0,transX:0,transY:0},this.viewW=document.documentElement.clientWidth,this.viewH=document.documentElement.clientHeight}return a(t,e),r(t,[{key:"render",value:function(){var e=this,t={background:"url(./assets/images/bg1.jpg) no-repeat center center ",backgroundSize:"cover"},i={};this.state.file&&(i.background="url("+this.state.file+") no-repeat center center",i.backgroundSize="cover");var n={};return this.state.file&&(n.background="url("+this.state.file+") no-repeat",n.backgroundSize="cover",n.backgroundPosition=this.state.transX+"px "+this.state.transY+"px"),l.default.createElement("div",{className:"zmiti-chooseborder-main-ui "+this.state.className,style:t},l.default.createElement("div",{className:"zmiti-chooseborder-main-content"},l.default.createElement("ul",null,this.state.borderList.map(function(t,i){return l.default.createElement("li",{key:i,onClick:e.chooseBorder.bind(e,i)},e.state.currentBorderIndex===i&&l.default.createElement("img",{className:"zmiti-border-active",src:"./assets/images/border-active.png"}),e.state.file&&l.default.createElement("img",{hidden:!0,style:{WebkitTransform:"translate("+e.state.transX+"px,"+e.state.transY+"px)"},src:e.state.file,className:"zmiti-file"}),l.default.createElement("div",{style:n}),l.default.createElement("img",{src:t.src}))})),l.default.createElement("div",{className:"zmiti-btn-groups"},l.default.createElement("aside",{onClick:this.preview.bind(this)},l.default.createElement("img",{src:"./assets/images/redo.png"})),l.default.createElement("aside",{onClick:this.next.bind(this)},l.default.createElement("img",{src:"./assets/images/next.png"})))))}},{key:"preview",value:function(){var e=this.props.obserable;e.trigger({type:"toggleChooseBorder",data:"right"}),e.trigger({type:"toggleChoose",data:"active"})}},{key:"next",value:function(){var e=this.props.obserable;e.trigger({type:"toggleChooseBorder",data:"left"}),e.trigger({type:"toggleInput",data:"active"})}},{key:"chooseBorder",value:function(e){this.setState({currentBorderIndex:e})}},{key:"showToast",value:function(e){var t=this;this.setState({toast:e}),setTimeout(function(){t.setState({toast:""})},2e3)}},{key:"componentDidMount",value:function(){var e=this,t=this.props.obserable;t.on("toggleChooseBorder",function(i){if(e.setState({className:i,file:t.trigger({type:"getFile"})}),"active"===i){var n=t.trigger({type:"getPos"}),a=n.transX,r=n.transY;t.trigger({type:"fixedResultPos",data:{transX:a,transY:r}}),e.setState({transX:a,transY:r})}t.on("getBorder",function(){return e.state.borderList[e.state.currentBorderIndex]})})}}]),t}(s.Component);exports.default=(0,m.PubCom)(f),e.exports=exports.default}).call(this)}finally{}},189:function(e,exports,t){var i=t(190);"string"==typeof i&&(i=[[e.id,i,""]]);t(175)(i,{});i.locals&&(e.exports=i.locals)},190:function(e,exports,t){exports=e.exports=t(174)(),exports.push([e.id,'.lt-full{width:100%;height:100%;position:absolute;left:0;top:0}.zmiti-text-overflow{overflow:hidden;white-space:nowrap;word-break:break-all;text-overflow:ellipsis;-webkit-text-overflow:ellipsis}.zmiti-chooseborder-main-ui{position:absolute;transition:.3s;left:0;top:0;width:100%;height:100%;display:-webkit-box;-webkit-box-align:center;-webkit-box-pack:center;-webkit-box-orient:vertical}.zmiti-chooseborder-main-ui.active{-webkit-transform:translate(0) scale(1);transform:translate(0) scale(1);z-index:100}.zmiti-chooseborder-main-ui.left{-webkit-transform:translate(-100%) scale(.8);transform:translate(-100%) scale(.8)}.zmiti-chooseborder-main-ui.right{-webkit-transform:translate(100%) scale(.8);transform:translate(100%) scale(.8)}.zmiti-chooseborder-main-ui .zmiti-chooseborder-main-content{width:9.9rem}.zmiti-chooseborder-main-ui .zmiti-chooseborder-main-content ul{height:9.9rem;box-sizing:border-box}.zmiti-chooseborder-main-ui .zmiti-chooseborder-main-content ul li{width:50%;float:left;box-sizing:border-box;position:relative;overflow:hidden}.zmiti-chooseborder-main-ui .zmiti-chooseborder-main-content ul li>div{position:absolute;width:100%;height:100%;left:0;top:0}.zmiti-chooseborder-main-ui .zmiti-chooseborder-main-content ul li img{position:relative;z-index:1}.zmiti-chooseborder-main-ui .zmiti-chooseborder-main-content ul li .zmiti-file{position:absolute;left:0;top:0;z-index:0}.zmiti-chooseborder-main-ui .zmiti-chooseborder-main-content ul li .zmiti-border-active{position:absolute;z-index:0;left:0;top:0;z-index:10}.zmiti-chooseborder-main-ui .zmiti-chooseborder-main-content ul li:before{content:"";position:absolute;box-shadow:inset 0 0 2px #000;left:0;top:0;width:100%;height:100%}.zmiti-chooseborder-main-ui .zmiti-chooseborder-main-content .zmiti-btn-groups{display:-webkit-box;-webkit-box-align:center;-webkit-box-pack:center;-webkit-box-orient:horizontal;width:8rem;margin:1rem auto}.zmiti-chooseborder-main-ui .zmiti-chooseborder-main-content .zmiti-btn-groups>aside{-webkit-box-flex:1;margin:0 10px}',""])},191:function(e,exports,t){try{(function(){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(e,t,i){for(var n=!0;n;){var a=e,r=t,o=i;n=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,r);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(a);if(null===u)return;e=u,t=r,i=o,n=!0,s=u=void 0}},s=t(1),l=i(s),u=t(31),c=(i(u),t(170));i(c);t(192);var m=t(181),f=t(185),p=i(f),d=function(e){function t(e){n(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={className:"right",wish:""},this.viewW=document.documentElement.clientWidth,this.viewH=document.documentElement.clientHeight}return a(t,e),r(t,[{key:"render",value:function(){var e={background:"url(./assets/images/bg1.jpg) no-repeat center center ",backgroundSize:"cover"},t={background:"url(./assets/images/input-bg.png) no-repeat center",backgroundSize:"contain"};return l.default.createElement("div",{className:"zmiti-input-main-ui "+this.state.className,style:e},l.default.createElement("div",{className:"zmiti-input-main-content"},l.default.createElement("div",{className:"zmiti-input-C",style:t},l.default.createElement("textarea",{value:this.state.wish,onChange:this.onChange.bind(this)})),l.default.createElement("div",{className:"zmiti-btn-group"},l.default.createElement("aside",{onClick:this.next.bind(this)},l.default.createElement("img",{src:"./assets/images/next.png"})))),this.state.toast&&l.default.createElement(p.default,{toast:this.state.toast}))}},{key:"onChange",value:function(e){return e.target.value.length>=30?void this.showToast("最多可输入30个字"):void this.setState({wish:e.target.value})}},{key:"next",value:function(){var e=this;if(!this.state.wish)return void this.showToast("祝福文字不能为空");var t=this.props.obserable;t.trigger({type:"toggleInput",data:"left"}),t.on("getWish",function(){return e.state.wish}),t.trigger({type:"toggleResult",data:"active"})}},{key:"showToast",value:function(e){var t=this;this.setState({toast:e}),setTimeout(function(){t.setState({toast:""})},2e3)}},{key:"componentDidMount",value:function(){var e=this,t=this.props.obserable;t.on("toggleInput",function(t){e.setState({className:t})})}}]),t}(s.Component);exports.default=(0,m.PubCom)(d),e.exports=exports.default}).call(this)}finally{}},192:function(e,exports,t){var i=t(193);"string"==typeof i&&(i=[[e.id,i,""]]);t(175)(i,{});i.locals&&(e.exports=i.locals)},193:function(e,exports,t){exports=e.exports=t(174)(),exports.push([e.id,".lt-full{width:100%;height:100%;position:absolute;left:0;top:0}.zmiti-text-overflow{overflow:hidden;white-space:nowrap;word-break:break-all;text-overflow:ellipsis;-webkit-text-overflow:ellipsis}.zmiti-input-main-ui{position:absolute;transition:.3s;left:0;top:0;width:10rem;height:100%;display:-webkit-box;-webkit-box-align:center;-webkit-box-pack:center;-webkit-box-orient:vertical}.zmiti-input-main-ui.active{-webkit-transform:translate(0) scale(1);transform:translate(0) scale(1);z-index:100}.zmiti-input-main-ui.left{-webkit-transform:translate(-100%) scale(.8);transform:translate(-100%) scale(.8)}.zmiti-input-main-ui.right{-webkit-transform:translate(100%) scale(.8);transform:translate(100%) scale(.8)}.zmiti-input-main-ui .zmiti-input-main-content{width:10rem}.zmiti-input-main-ui .zmiti-input-main-content .zmiti-input-C{height:4.5rem;width:8rem;margin:1rem auto 5rem;position:relative}.zmiti-input-main-ui .zmiti-input-main-content .zmiti-input-C textarea{position:absolute;width:70%;height:80%;left:15%;top:10%;font-size:.5rem;overflow:hidden;border:none;line-height:1rem;resize:none;background:transparent}.zmiti-input-main-ui .zmiti-input-main-content .zmiti-btn-group{display:-webkit-box;-webkit-box-align:center;-webkit-box-pack:center;-webkit-box-orient:horizontal;width:4rem;margin:1rem auto}.zmiti-input-main-ui .zmiti-input-main-content .zmiti-btn-group>aside{-webkit-box-flex:1;margin:0 10px}",""])},194:function(module,exports,__webpack_require__){try{(function(){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_get=function(e,t,i){for(var n=!0;n;){var a=e,r=t,o=i;n=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,r);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(a);if(null===u)return;e=u,t=r,i=o,n=!0,s=u=void 0}},_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(31),_reactDom2=_interopRequireDefault(_reactDom),_jquery=__webpack_require__(170),_jquery2=_interopRequireDefault(_jquery);__webpack_require__(195);var _componentsPublicPubJsx=__webpack_require__(181),data={wxappid:"wxec2401ee9a70f3d9",wxappsecret:"fc2c8e7c243da9e8898516fa5da8cbbb"},ZmitiResultApp=function(_Component){function ZmitiResultApp(e){_classCallCheck(this,ZmitiResultApp),_get(Object.getPrototypeOf(ZmitiResultApp.prototype),"constructor",this).call(this,e),this.state={className:"right",wish:"",transX:0,transY:0},this.viewW=document.documentElement.clientWidth,this.viewH=document.documentElement.clientHeight}return _inherits(ZmitiResultApp,_Component),_createClass(ZmitiResultApp,[{key:"getQueryString",value:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),i=window.location.search.substr(1).match(t);return null!=i?i[2]:null}},{key:"render",value:function(){var e=this,t={background:"url(./assets/images/bg1.jpg) no-repeat center center ",backgroundSize:"cover"},i={background:"url(./assets/images/wish-bg.png) no-repeat center ",backgroundSize:"contain"},n={},a={};this.state.border&&this.state.file&&(n.background="url("+this.state.file+") no-repeat center",n.backgroundSize="cover",a.background="url("+this.state.border+") no-repeat center",a.backgroundSize="contain");var r={background:"url(./assets/images/arron1.png) no-repeat center top",backgroundSize:"cover"},o=this,s=o.getQueryString("file"),l=o.getQueryString("border"),u=o.getQueryString("wish"),c=s&&l&&u,m={};return this.state.file&&(m.background="url("+this.state.file+") no-repeat",m.backgroundSize="cover",m.backgroundPosition=this.state.transX+"px "+this.state.transY+"px"),_react2.default.createElement("div",{className:"zmiti-result-main-ui "+this.state.className,style:t},_react2.default.createElement("div",{className:"zmiti-result-main-content"},_react2.default.createElement("div",{className:"zmiti-result-img"},_react2.default.createElement("div",{className:"zmiti-file-img",style:m}),this.state.file&&_react2.default.createElement("img",{hidden:!0,style:{WebkitTransform:"translate("+this.state.transX+"px,"+this.state.transY+"px)"},src:this.state.file}),_react2.default.createElement("div",{style:a})),_react2.default.createElement("div",{className:"zmiti-wish-C",style:i},_react2.default.createElement("div",null,this.state.wish)),!c&&_react2.default.createElement("div",{className:"zmiti-btn-group"},_react2.default.createElement("aside",{onClick:this.reInput.bind(this)},_react2.default.createElement("img",{src:"./assets/images/reinput.png"})),_react2.default.createElement("aside",{onClick:function(){e.setState({showMask:!0})}},_react2.default.createElement("img",{src:"./assets/images/done.png"}))),c&&_react2.default.createElement("div",{className:"zmiti-btn-group",style:{width:"4rem"}},_react2.default.createElement("aside",null,_react2.default.createElement("a",{href:window.href||"http://h5.zmiti.com/public/teacherday/"},_react2.default.createElement("img",{src:"./assets/images/do.png"}))))),this.state.showMask&&_react2.default.createElement("div",{onTouchStart:function(){e.setState({showMask:!1})},className:"zmiti-mask lt-full",style:r}))}},{key:"reInput",value:function(){var e=this.props.obserable;e.trigger({type:"toggleInput",data:"active"}),e.trigger({type:"toggleResult",data:"right"})}},{key:"showToast",value:function(e){var t=this;this.setState({toast:e}),setTimeout(function(){t.setState({toast:""})},2e3)}},{key:"componentDidMount",value:function(){var e=this,t=this.props,i=t.obserable,n=t.wxConfig,a=(t.log,t.nickname,t.changeURLPar),r=t.border,o=t.file,s=t.wish,l=t.transX,u=t.transY;r&&o&&s&&this.setState({className:"active",wish:decodeURI(s),border:r,file:o,transX:l,transY:u}),i.on("fixedResultPos",function(t){e.setState({transX:t.transX,transY:t.transY})}),i.on("toggleResult",function(t){if(e.setState({className:t,wish:i.trigger({type:"getWish"})},function(){e.getAssets()}),"active"===t){var r=window.location.href;JSON.stringify({file:i.trigger({type:"getFile"}),border:i.trigger({type:"getBorder"}).src});r=a(r,"file",i.trigger({type:"getFile"})),r=a(r,"border",i.trigger({type:"getBorder"}).src),r=a(r,"wish",encodeURI(i.trigger({type:"getWish"}))),r=a(r,"transX",e.state.transX),r=a(r,"transY",e.state.transY),setTimeout(function(){r=r.split("#")[0],n(window.share.title.replace(/{nickname}/,window.nickname),window.share.desc,"http://h5.zmiti.com/public/teacherday/assets/images/300.jpg",r)},1e3)}})}},{key:"changeURLPar",value:function changeURLPar(url,arg,val){var pattern=arg+"=([^&]*)",replaceText=arg+"="+val;return url.match(pattern)?url.replace(eval("/("+arg+"=)([^&]*)/gi"),replaceText):url.match("[?]")?url+"&"+replaceText:url+"?"+replaceText}},{key:"log",value:function(e){_jquery2.default.ajax({url:"http://api.zmiti.com/v2/msg/send_msg",data:{type:e.key||"log",content:JSON.stringify(e),to:""}})}},{key:"getAssets",value:function(){var e=this.props.obserable,t=e.trigger({type:"getFile"}),i=e.trigger({type:"getBorder"});this.setState({file:t,border:i.src})}}]),ZmitiResultApp}(_react.Component);exports.default=(0,_componentsPublicPubJsx.PubCom)(ZmitiResultApp),module.exports=exports.default}).call(this)}finally{}},195:function(e,exports,t){var i=t(196);"string"==typeof i&&(i=[[e.id,i,""]]);t(175)(i,{});i.locals&&(e.exports=i.locals)},196:function(e,exports,t){exports=e.exports=t(174)(),exports.push([e.id,".lt-full{width:100%;height:100%;position:absolute;left:0;top:0}.zmiti-text-overflow{overflow:hidden;white-space:nowrap;word-break:break-all;text-overflow:ellipsis;-webkit-text-overflow:ellipsis}.zmiti-result-main-ui{position:absolute;transition:.3s;left:0;top:0;width:10rem;height:100%;display:-webkit-box;-webkit-box-align:center;-webkit-box-pack:center;-webkit-box-orient:vertical}.zmiti-result-main-ui.active{-webkit-transform:translate(0) scale(1);transform:translate(0) scale(1);z-index:100}.zmiti-result-main-ui.left{-webkit-transform:translate(-50%) scale(1);transform:translate(-50%) scale(1)}.zmiti-result-main-ui.right{-webkit-transform:translate(100%) scale(.8);transform:translate(100%) scale(.8)}.zmiti-result-main-ui .zmiti-result-main-content{width:10rem}.zmiti-result-main-ui .zmiti-result-main-content .zmiti-result-img{position:relative;width:7rem;margin:0 auto;height:7rem;overflow:hidden}.zmiti-result-main-ui .zmiti-result-main-content .zmiti-result-img>div{position:absolute;width:100%;height:100%;left:0;top:0}.zmiti-result-main-ui .zmiti-result-main-content .zmiti-result-img img{position:absolute;left:0;top:0}.zmiti-result-main-ui .zmiti-result-main-content .zmiti-wish-C{width:7rem;height:4rem;margin:.5rem auto}.zmiti-result-main-ui .zmiti-result-main-content .zmiti-wish-C div{line-height:.9rem;width:70%;text-indent:2em;margin:0 auto;position:relative;top:.5rem}.zmiti-result-main-ui .zmiti-result-main-content .zmiti-btn-group{display:-webkit-box;-webkit-box-align:center;-webkit-box-pack:center;-webkit-box-orient:horizontal;width:8rem;margin:.5rem auto}.zmiti-result-main-ui .zmiti-result-main-content .zmiti-btn-group>aside{-webkit-box-flex:1;margin:0 10px}.zmiti-result-main-ui .zmiti-mask{z-index:1000}@media (max-height:612px) and (min-width:412px){.zmiti-result-main-content .zmiti-btn-group{margin:.2rem auto!important}}",""])}});